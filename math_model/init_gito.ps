# ======================================================
# ä¸€é”®åˆå§‹åŒ–æœ¬åœ°é¡¹ç›®å¹¶æ¨é€åˆ° GitHub
# ä»“åº“åœ°å€: https://github.com/YangDaoONE/math_model.git
# ======================================================

# ====== é…ç½®ä¿¡æ¯ ======
$repoName = "math_model"
$remoteUrl = "https://github.com/YangDaoONE/math_model.git"

# ====== Step 1: ç”Ÿæˆ README.md ======
Write-Host "===> Step 1: ç”Ÿæˆ README.md"
if (!(Test-Path README.md)) {
    "# $repoName`n`næœ¬é¡¹ç›®åˆå§‹åŒ–äº $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')ã€‚" | Out-File -Encoding UTF8 README.md
    Write-Host "å·²åˆ›å»º README.md"
} else {
    Write-Host "README.md å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º"
}

# ====== Step 2: ç”Ÿæˆ .gitignore (Pythonæ¨¡æ¿) ======
Write-Host "===> Step 2: ç”Ÿæˆ .gitignore"
if (!(Test-Path .gitignore)) {
@"
# ===== Python & VSCode Ignore =====
__pycache__/
*.py[cod]
*$py.class

# Virtual environments
venv/
.env/
.venv/

# Distribution / packaging
build/
dist/
*.egg-info/

# OS / Editor files
.DS_Store
Thumbs.db
.vscode/
.idea/
"@ | Out-File -Encoding UTF8 .gitignore
    Write-Host "å·²åˆ›å»º .gitignore"
} else {
    Write-Host ".gitignore å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º"
}

# ====== Step 3: åˆå§‹åŒ– git ä»“åº“ ======
Write-Host "===> Step 3: åˆå§‹åŒ– git ä»“åº“"
if (!(Test-Path .git)) {
    git init
    Write-Host "å·²æ‰§è¡Œ git init"
} else {
    Write-Host "Git å·²åˆå§‹åŒ–ï¼Œè·³è¿‡ git init"
}

# ====== Step 4: è®¾ç½®ä¸»åˆ†æ”¯ä¸º main ======
git branch -M main

# ====== Step 5: æ·»åŠ æ–‡ä»¶ ======
git add .

# ====== Step 6: æäº¤ ======
git commit -m "Initial commit: bootstrap math_model"

# ====== Step 7: ç»‘å®šè¿œç¨‹ä»“åº“ ======
Write-Host "===> Step 7: ç»‘å®šè¿œç¨‹ä»“åº“"
git remote remove origin 2>$null
git remote add origin $remoteUrl

# ====== Step 8: æ¨é€åˆ° GitHub ======
Write-Host "===> Step 8: æ¨é€åˆ° GitHub (main åˆ†æ”¯)"
git push -u origin main

Write-Host "ğŸ‰ å®Œæˆï¼ä»“åº“å·²æ¨é€è‡³ $remoteUrl"
